---

layout: default
title: git 的使用
abstract : 
comments: false

---

# git 的基本使用

1. 克隆代码：

	git clone ssh://git@192.168.1.121:7999/beeper/beeper_orientation.git

2. 新建分支：

	git checkout -b {分支名}

3. 编辑代码：

	建立分支后即可以进行代码编辑，可以多种工具如vim或者webstorm

4. 变更检查：

	git status

	git diff

5. 迁入

	git commit -am '说明'

6. 推送到服务器

	git push

	使用git push将修改的代码推送到服务器上；

## 几个关键的概念

1. 主分支(master）
在项目最初使用git初始化时，默认创建的分支为主分支，即master。

如果没有创建工作分支的话，默认开发是在master主分支上进行的，这显然不是我们想要的，所以每个项目成员在进行自己工作时，都必须首先创建自己的工作分支。

2. 工作分支

工作分支是项目成员根据自己的工作安排，从主分支master(或线上分支、release分支)上签出的个人工作分支。

checkout个人工作分支的方式为：

```
git co {基础分支}

git co -b {分支名}
```

或者

```
git co -b {分支名} {基础分支}
```

需要注意的几个问题：

> 2.1 应该从哪儿创建自己的工作分支?

>> 如果是修改日常的bug，则应从主分支上进行签出代码

>> 如果是新需求开发，则应从主分支上进行签出代码

>> 如果是修改线上的紧急bug(该bug的标签中会注明 __**hotfix**__)，则应从此刻线上的分支版本中签出代码

>> 如果是修改release分支的bug(该bug的标签中会注明对应的release版本号)，则应从对应的release分支中签出代码


> 2.2 如何给自己的工作分支命名?

>> 如果是修改日常bug，分支名应为：bugfix/BEEPER-{bug号}-[简短说明]

>> 如果是新需求开发，分支名应为：feature/BEEPER-{bug号}-[简短说明]

>> 如果是修改线上紧急bug，分支名应为：hotfix/BEEPER-{bug号}-[简短说明]

注：以上的工作分支命名方式为建议命名方式,可以让大家很快明白该分支创建的意图，其中[简短说明]可以不写

> 2.3 一个分支到底能解决几个bug(或需求)?

>> 原则上一个工作分支对应个bug(或需求)，几个相关的简单bug，开发人员可酌情创建一个工作分支，但不要在一个分支上去fix超过4个bug

>> 不允许将不相干的bug(或需求)在一个工作分支中解决，应对每个bug起独立的工作分支，并进行代码修改，然后在分别发起不同的PR

3. release分支

当主分支master上代码开发到一定阶段(达到一个既定的项目开发目标时)，我们从主分支上创建一个release分支，作为即将发布的版本，即release分支。

此时主分支master上随即开始下一个项目阶段的开发，而新创建的release分支，如仍有bug则在该release分支上进行修改，待bug修改完后合并到主分支master上，再将该release分支进行线上部署，此时该release分支即为线上分支。

